@model GymPower.Models.User
@{
    ViewData["Title"] = "Моят профил";
}

<section class="py-5" style="background-color:#0b0b14;">
    <div class="container text-white">
        <div class="card bg-dark border-0 shadow-lg p-4 mx-auto text-white" style="max-width:600px;">
            <h2 class="text-warning fw-bold mb-4 text-center">👤 Моят профил</h2>

            <div class="text-center mb-4">
                <p class="mb-2"><strong>Потребителско име:</strong> @Model.Username</p>
                <p class="mb-2"><strong>Имейл:</strong> @Model.Email</p>
                <p class="mb-2"><strong>Фитнес цел:</strong> @Model.FitnessGoal</p>
            </div>

            <a asp-action="EditProfile" class="btn btn-warning fw-bold w-100 rounded-pill mt-3 shadow">
                ✏️ Редактирай профила
            </a>

            <!-- 🌗 Theme Toggle -->
            <div class="text-center mt-4">
                <button id="themeToggle" class="btn btn-warning fw-bold px-4 py-2 rounded-pill">
                    🌗 Смени темата
                </button>
            </div>

            <a asp-action="Logout" class="btn btn-outline-light fw-bold w-100 rounded-pill mt-3">
                🚪 Изход
            </a>
        </div>
    </div>
    <style>
        /* 🌑 Dark Theme */
        body.dark-theme {
            background-color: #0b0b14;
            color: #f1f1f1;
        }

            body.dark-theme .card,
            body.dark-theme .navbar,
            body.dark-theme footer {
                background-color: #1a1a22 !important;
                color: #f1f1f1 !important;
            }

        /* ☀️ Light Theme */
        body.light-theme {
            background-color: #f8f9fa;
            color: #1a1a1a;
        }

            body.light-theme .card,
            body.light-theme .navbar,
            body.light-theme footer {
                background-color: white !important;
                color: #1a1a1a !important;
            }

        /* ⚡ Default GymPower (orange accents) */
        body.default-theme {
            background: linear-gradient(135deg, #000000, #212529);
            color: #f8f9fa;
        }

        .btn-warning {
            background-color: #ff6b35 !important;
            border: none;
        }

            .btn-warning:hover {
                background-color: #ffa94d !important;
            }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const button = document.getElementById("themeToggle");

            // 🔹 Load saved theme from localStorage
            const savedTheme = localStorage.getItem("gympower-theme") || "default";
            document.body.classList.add(savedTheme + "-theme");

            button.addEventListener("click", () => {
                const current = document.body.classList.contains("dark-theme")
                    ? "dark"
                    : document.body.classList.contains("light-theme")
                        ? "light"
                        : "default";

                // 🔹 Determine next theme
                const nextTheme =
                    current === "default" ? "dark" :
                    current === "dark" ? "light" : "default";

                // 🔹 Remove all, apply next
                document.body.classList.remove("dark-theme", "light-theme", "default-theme");
                document.body.classList.add(nextTheme + "-theme");

                // 🔹 Save preference
                localStorage.setItem("gympower-theme", nextTheme);
            });
        });
    </script>
</section>
